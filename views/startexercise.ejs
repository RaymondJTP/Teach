<%- include('partials/header', { title: 'Student Exercise'}); %>
    <div style="display: flex;">
        <h1 style="justify-content: flex-start;">Start Your Exercise in <%= data.type %>  </h1>
    </div>
    <a href="/logout" class="btn btn-danger" style="justify-content: right;">Logout</a>
    <h2 id="duration"></h2>
    <br>


    <form data-duration='<%= data.duration %> ' id='myForm' action="/taskStudent/<%= data.id %>/calculateAnswer" method="post">
        <% data.Exercises.forEach(el => { %>
            <p><%= el.question %> </p>
            <% shuffle([el.answer, el.answer2, el.answer3]).forEach(element => { %>
                <input type="radio" name="<%= el.id %>" value="<%= element %>">
                <label for="<%= el.id %>"><%= element %> </label><br>
            <% }) %>
        <% }) %>
        <input type="submit" class="btn btn-primary" value="Submit">
    </form>
</body>
<script>
    let duration = document.getElementById('myForm').getAttribute('data-duration')
    console.log('asuuup',duration);
    let counter = +duration
    setTimeout(() => {
        document.getElementById("myForm").submit();
    }, duration * 1000);
    setInterval(() => {
        document.getElementById("duration").textContent = counter
        counter--
    },  1000);
</script>
</html>